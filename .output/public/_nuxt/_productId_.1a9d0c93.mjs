import{a as D,b as C,m,K as N,L as h,D as T,p as A,o as d,f as r,h as e,t as s,u as a,i as p,k as f,F as B,r as M,y as E,G as L,A as V,J as F,B as H}from"./entry.7b8277be.mjs";const I={key:0},S={class:"w-full flex mt-8"},U={class:"w-2/5 px-5"},j=["src"],z={class:"w-3/5 px-5 divide-y divide-slate-200"},G={class:"text-slate-600 pb-3"},J={class:"py-3"},K={class:"text-xs"},O={class:"mb-2"},P={class:"font-bold"},R={key:0,class:"mb-2"},q={class:"font-bold"},Q={class:"font-bold"},W={class:"py-3"},X={class:"flex items-center py-3"},Y=["innerHTML"],Z=e("span",null,"\u0422\u043E\u0432\u0430\u0440 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443!",-1),ee=[Z],ne=D({__name:"[productId]",async setup(te){let u,v;const o=C(),l=m(1),_=m(null),t=m({});N(()=>{delete h().payload.data.item}),T(()=>{delete h().payload.data.item});const{data:x,pending:se,refresh:ae}=([u,v]=A(()=>F("item",()=>$fetch(`/api/v1/${o.params.productId}`),"$76xHkzP9vr")),u=await u,v(),u),{item:$,mainFilters:g,mainCategory:y}=x.value;t.value=$;const b=n=>{+l.value>0&&H().set(n,+l.value),l.value=1,_.value.style.opacity=1,setTimeout(()=>{_.value.style.opacity=0},2e3)};return(n,c)=>t.value&&Object.keys(t.value).length>0?(d(),r("div",I,[e("div",S,[e("div",U,[e("div",null,[e("img",{src:`https://cdn.autotarget.com.ua/products/${t.value.images[0]}`||"/images/no_image.png"},null,8,j)])]),e("div",z,[e("h1",G,s(t.value[`name_${a(o).params.locale}`]),1),e("div",J,[e("ul",K,[e("li",O,[e("span",P,s(n.$t("items.code_vendor"))+": ",1),p(s(t.value.code_vendor),1)]),a(y)?(d(),r("li",R,[e("span",q,s(a(y)[`name_${a(o).params.locale}`])+": ",1),p(s(t.value.category[`name_${a(o).params.locale}`]),1)])):f("",!0),(d(!0),r(B,null,M(a(g),(i,k)=>(d(),r("li",{key:k,class:"mb-2"},[e("span",Q,s(i[`name_${a(o).params.locale}`])+": ",1),p(s(t.value.filters.find(w=>w.parent_id===i.id)[`name_${a(o).params.locale}`]),1)]))),128))])]),e("div",W,[e("span",null,[e("span",null,s(n.$t("items.price"))+": ",1),p(" "+s(t.value.price_retail/100)+" \u0433\u0440\u043D. ",1)])]),e("div",X,[e("div",null,[e("span",null,s(n.$t("count_items"))+": ",1),E(e("input",{class:"w-10 h-8 text-center outline-none mx-2 py-1 rounded text-xs",type:"tel",name:"count","onUpdate:modelValue":c[0]||(c[0]=i=>l.value=i)},null,512),[[L,l.value]])]),e("button",{class:"h-8 bg-cyan-700 text-sky-100 px-4 py-1 rounded",onClick:c[1]||(c[1]=V(i=>b(t.value.id),["prevent"]))},s(n.$t("to_cart")),1)])])]),e("div",{class:"w-full px-5 mt-8",innerHTML:t.value.fields[`description_${a(o).params.locale}`]},null,8,Y),e("div",{ref_key:"cartNotice",ref:_,class:"cart-notice"},ee,512)])):f("",!0)}});export{ne as default};
