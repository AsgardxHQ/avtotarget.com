import{a as x,m as a,b as y,K as g,L as p,D as w,p as b,o,f as n,h as e,t as l,q as $,A as k,k as i,i as N,J as A}from"./entry.4c70dc6d.mjs";import{_ as j}from"./item.vue_vue_type_script_setup_true_lang.b5f3bad1.mjs";const q={class:"flex"},z={class:"w-full"},B={class:"w-full px-2 py-3"},C={class:"text-slate-600 border-b-2 border-zinc-500 flex justify-between items-center"},D={class:"text-2xl"},L=N(),V={class:"text-sm"},I={key:0,class:"w-full min-h-80 grid grid-flow-row-dense grid-cols-4 mb-12"},G={class:"group-hover:shadow-lg z-50 bg-zinc-100 rounded-md shadow-md flex items-center justify-center w-full"},M={class:"text-xl uppercase font-bold"},S={key:0,class:"fixed inset-0 w-full h-full bg-slate-200/50 flex justify-center items-center"},T=e("span",{class:"text-2xl text-slate-800"},"LOADING",-1),E=[T],U=x({__name:"[request]",async setup(J){let t,d;const s=a([]),h=y(),f=a(!1),u=a(1),c=a(0);g(()=>{delete p().payload.data.search}),w(()=>{delete p().payload.data.search});const{data:_}=([t,d]=b(()=>A("search",()=>$fetch(`/api/v1/search/${h.params.request}`),"$oGzSBZxjTL")),t=await t,d(),t);s.value=_.value.items,c.value=_.value.count;const v=()=>{u.value+=1,console.log(u)};return(r,m)=>(o(),n("div",q,[e("div",z,[e("div",B,[e("h3",C,[e("span",D,l(r.$t("search_hl")),1),L,e("span",V,l(r.$t("found"))+": "+l(c.value),1)])]),s.value&&s.value.length>0?(o(),n("div",I,[$(j,{items:s.value},null,8,["items"]),c.value>19?(o(),n("button",{key:0,type:"button",class:"group m-2 relative btn-load-next flex items-start",onClick:m[0]||(m[0]=k(K=>v(),["prevent"]))},[e("div",G,[e("span",M,l(r.$t("show_more")),1)])])):i("",!0)])):i("",!0)]),f.value?(o(),n("div",S,E)):i("",!0)]))}});export{U as default};
