import{a as w,b as q,e as N,o as t,f as l,u as s,c as m,w as x,h as a,F as f,r as L,i as j,t as b,j as B,k as h,l as M,m as g,p as V,q as y,s as D}from"./entry.7b8277be.mjs";import{_ as F}from"./filter.vue_vue_type_script_setup_true_lang.40a870d3.mjs";import{_ as z}from"./item.vue_vue_type_script_setup_true_lang.38809305.mjs";const A={class:"pagination flex items-center justify-center"},I=a("i",{class:"pi pi-angle-double-left"},null,-1),Q={key:1,class:"text-slate-200 text-2xl py-2 px-4 mx-1 border border-slate-200"},R=a("i",{class:"pi pi-angle-double-left"},null,-1),S=[R],T=a("i",{class:"pi pi-angle-left"},null,-1),E={key:3,class:"text-slate-200 text-2xl py-2 px-4 mx-1 border border-slate-200"},G=a("i",{class:"pi pi-angle-left"},null,-1),K=[G],O={class:"pagination-pages overflow-hidden flex items-center"},P=a("i",{class:"pi pi-angle-right"},null,-1),H={key:5,class:"text-slate-200 text-2xl py-2 px-4 mx-1 border border-slate-200"},J=a("i",{class:"pi pi-angle-right"},null,-1),U=[J],W=a("i",{class:"pi pi-angle-double-right"},null,-1),X={key:7,class:"text-slate-200 text-2xl py-2 px-4 mx-1 border border-slate-200"},Y=a("i",{class:"pi pi-angle-double-right"},null,-1),Z=[Y],ee=w({__name:"pagination",props:["pagination","refresh"],setup(d){const e=q(),_=N(()=>{const r=+e.params.page,o={min:0,max:0};return r<3?(o.min=0,o.max=6):(o.min=r-3,o.max=r+2),o});return(r,o)=>{const i=M;return t(),l("div",A,[+s(e).params.page>1?(t(),m(i,{key:0,to:{params:{page:1},query:s(e).query},class:"text-2xl py-2 px-4 mx-1 border border-slate-200"},{default:x(()=>[I]),_:1},8,["to"])):(t(),l("span",Q,S)),+s(e).params.page>1?(t(),m(i,{key:2,to:{params:{page:+s(e).params.page-1},query:s(e).query},class:"text-2xl py-2 px-4 mx-1 border border-slate-200"},{default:x(()=>[T]),_:1},8,["to"])):(t(),l("span",E,K)),a("div",O,[(t(!0),l(f,null,L(Math.ceil(d.pagination.count/20),c=>(t(),l(f,{key:c},[s(_).min<=c&&s(_).max>=c?(t(),m(i,{key:0,to:{params:{page:c},query:s(e).query},class:B(["text-2xl py-2 px-4 mx-1 border border-slate-200",+s(e).params.page===c?"active":""])},{default:x(()=>[j(b(c),1)]),_:2},1032,["to","class"])):h("",!0)],64))),128))]),+s(e).params.page<Math.ceil(d.pagination.count/20)?(t(),m(i,{key:4,to:{params:{page:+s(e).params.page+1},query:s(e).query},class:"text-2xl py-2 px-4 mx-1 border border-slate-200"},{default:x(()=>[P]),_:1},8,["to"])):(t(),l("span",H,U)),+s(e).params.page<Math.ceil(d.pagination.count/20)?(t(),m(i,{key:6,to:{params:{page:Math.ceil(d.pagination.count/20)},query:s(e).query},class:"text-2xl py-2 px-4 mx-1 border border-slate-200"},{default:x(()=>[W]),_:1},8,["to"])):(t(),l("span",X,Z))])}}}),te={class:"md:flex"},se={class:"sm:w-full md:w-3/12"},ae={class:"sm:w-full md:w-9/12"},oe={key:0,class:"w-full text-xl text-center uppercase"},le={class:"w-full px-2 py-3"},ne={class:"text-2xl text-slate-600 border-b-2 border-zinc-500"},re={class:"w-full grid grid-flow-row-dense sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 mb-12"},ie={key:0,class:"fixed inset-0 w-full h-full bg-slate-200/50 flex justify-center items-center"},ce=a("span",{class:"text-2xl text-slate-800"},"LOADING",-1),pe=[ce],me=w({__name:"products",async setup(d){let e,_;const r=q(),o=g([]),i=g([]),c=g(!1),v=g({count:0}),C=async n=>{await k(n)},$=n=>{let p="";for(let u in n)u&&n[u]&&(p+=`${u}=${n[u]}&`);return p},k=async(n=r.query)=>{const{data:p,refresh:u}=await D(`/api/v1/items?${$(r.params)}${$(n)}&limit=21`,"$gfvq5tKCLR");await u({dedupe:!0}),o.value=p.value.items,v.value.count=+p.value.count};return[e,_]=V(()=>k()),await e,_(),(n,p)=>(t(),l("div",te,[a("div",se,[y(F,{onChangeQuery:C,class:"product-page"})]),a("div",ae,[i.value?(t(),l("div",oe,b(i.value[`name_${s(r).params.locale}`]),1)):h("",!0),a("div",le,[a("h3",ne,b(n.$t("new_supply")),1)]),o.value&&o.value.length>0?(t(),l(f,{key:1},[a("div",re,[y(z,{items:o.value},null,8,["items"])]),y(ee,{pagination:v.value},null,8,["pagination"])],64)):h("",!0)]),c.value?(t(),l("div",ie,pe)):h("",!0)]))}});export{me as _};
