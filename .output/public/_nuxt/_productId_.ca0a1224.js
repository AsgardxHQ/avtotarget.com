import{a as C,b as N,m,J as T,K as h,y as M,p as A,u as t,o as r,f as u,h as e,t as a,i as p,k as f,F as B,r as L,B as V,C as D,L as F,A as H,H as I,x as R}from"./entry.d2fb6768.js";const S={key:0},U={class:"w-full flex mt-8"},j={class:"w-2/5 px-5"},E=["src"],J={class:"w-3/5 px-5 divide-y divide-slate-200"},K={class:"text-slate-600 pb-3"},O={class:"py-3"},q={class:"text-xs"},z={class:"mb-2"},G={class:"font-bold"},P={key:0,class:"mb-2"},Q={class:"font-bold"},W={class:"font-bold"},X={class:"py-3"},Y={class:"flex items-center py-3"},Z=["innerHTML"],ee=e("span",null,"Товар добавлен в корзину!",-1),te=[ee],le=C({__name:"[productId]",async setup(se){let c,v;const o=N(),n=m(1),_=m(null),s=m({});T(()=>{delete h().payload.data.item}),M(()=>{delete h().payload.data.item});const{data:x,pending:ae,refresh:oe}=([c,v]=A(()=>I("item",()=>$fetch(`/api/v1/${o.params.productId}`))),c=await c,v(),c),{item:$,mainFilters:g,mainCategory:y}=x.value;s.value=$;const b=l=>{+n.value>0&&R().set(l,+n.value),n.value=1,_.value.style.opacity=1,setTimeout(()=>{_.value.style.opacity=0},2e3)};return(l,d)=>t(s)&&Object.keys(t(s)).length>0?(r(),u("div",S,[e("div",U,[e("div",j,[e("div",null,[e("img",{src:`https://cdn.autotarget.com.ua/products/${t(s).images[0]}`||"/images/no_image.png"},null,8,E)])]),e("div",J,[e("h1",K,a(t(s)[`name_${t(o).params.locale}`]),1),e("div",O,[e("ul",q,[e("li",z,[e("span",G,a(l.$t("items.code_vendor"))+": ",1),p(a(t(s).code_vendor),1)]),t(y)?(r(),u("li",P,[e("span",Q,a(t(y)[`name_${t(o).params.locale}`])+": ",1),p(a(t(s).category[`name_${t(o).params.locale}`]),1)])):f("",!0),(r(!0),u(B,null,L(t(g),(i,k)=>(r(),u("li",{key:k,class:"mb-2"},[e("span",W,a(i[`name_${t(o).params.locale}`])+": ",1),p(a(t(s).filters.find(w=>w.parent_id===i.id)[`name_${t(o).params.locale}`]),1)]))),128))])]),e("div",X,[e("span",null,[e("span",null,a(l.$t("items.price"))+": ",1),p(" "+a(t(s).price_retail/100)+" грн. ",1)])]),e("div",Y,[e("div",null,[e("span",null,a(l.$t("count_items"))+": ",1),V(e("input",{class:"w-10 h-8 text-center outline-none mx-2 py-1 rounded text-xs",type:"tel",name:"count","onUpdate:modelValue":d[0]||(d[0]=i=>F(n)?n.value=i:null)},null,512),[[D,t(n)]])]),e("button",{class:"h-8 bg-cyan-700 text-sky-100 px-4 py-1 rounded",onClick:d[1]||(d[1]=H(i=>b(t(s).id),["prevent"]))},a(l.$t("to_cart")),1)])])]),e("div",{class:"w-full px-5 mt-8",innerHTML:t(s).fields[`description_${t(o).params.locale}`]},null,8,Z),e("div",{ref_key:"cartNotice",ref:_,class:"cart-notice"},te,512)])):f("",!0)}});export{le as default};
