import{a as y,m as a,b as g,J as w,K as f,y as b,p as k,o as n,f as l,h as e,t as c,i as N,u as t,q as $,A,k as d,H as q}from"./entry.d2fb6768.js";import{_ as C}from"./item.vue.526a41c7.js";const V={class:"flex"},j={class:"w-full"},z={class:"w-full px-2 py-3"},B={class:"text-slate-600 border-b-2 border-zinc-500 flex justify-between items-center"},D={class:"text-2xl"},I={class:"text-sm"},L={key:0,class:"w-full min-h-80 grid grid-flow-row-dense grid-cols-4 mb-12"},M={class:"group-hover:shadow-lg z-50 bg-zinc-100 rounded-md shadow-md flex items-center justify-center w-full"},E={class:"text-xl uppercase font-bold"},G={key:0,class:"fixed inset-0 w-full h-full bg-slate-200/50 flex justify-center items-center"},H=e("span",{class:"text-2xl text-slate-800"},"LOADING",-1),J=[H],T=y({__name:"[request]",async setup(K){let s,u;const o=a([]),h=g(),x=a(!1),_=a(1),r=a(0);w(()=>{delete f().payload.data.search}),b(()=>{delete f().payload.data.search});const{data:m}=([s,u]=k(()=>q("search",()=>$fetch(`/api/v1/search/${h.params.request}`))),s=await s,u(),s);o.value=m.value.items,r.value=m.value.count;const v=()=>{_.value+=1,console.log(_)};return(i,p)=>(n(),l("div",V,[e("div",j,[e("div",z,[e("h3",B,[e("span",D,c(i.$t("search_hl")),1),N(),e("span",I,c(i.$t("found"))+": "+c(t(r)),1)])]),t(o)&&t(o).length>0?(n(),l("div",L,[$(C,{items:t(o)},null,8,["items"]),t(r)>19?(n(),l("button",{key:0,type:"button",class:"group m-2 relative btn-load-next flex items-start",onClick:p[0]||(p[0]=A(O=>v(),["prevent"]))},[e("div",M,[e("span",E,c(i.$t("show_more")),1)])])):d("",!0)])):d("",!0)]),t(x)?(n(),l("div",G,J)):d("",!0)]))}});export{T as default};
