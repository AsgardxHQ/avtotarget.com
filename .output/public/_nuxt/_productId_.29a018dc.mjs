import{a as C,b as D,m,M as N,N as h,G as M,x as T,o as d,f as r,h as e,t as s,u as a,i as _,k as f,F as A,r as B,A as E,I,C as L,L as V,D as F}from"./entry.f13a3b42.mjs";const H={key:0},S={class:"w-full flex mt-8"},U={class:"w-2/5 px-5"},j=["src"],z={class:"w-3/5 px-5 divide-y divide-slate-200"},G={class:"text-slate-600 pb-3"},O={class:"py-3"},P={class:"text-xs"},R={class:"mb-2"},q={class:"font-bold"},J={key:0,class:"mb-2"},K={class:"font-bold"},Q={class:"font-bold"},W={class:"py-3"},X={class:"flex items-center py-3"},Y=["innerHTML"],Z=e("span",null,"\u0422\u043E\u0432\u0430\u0440 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443!",-1),ee=[Z],ne=C({__name:"[productId]",async setup(te){let u,v;const o=D(),l=m(1),p=m(null),t=m({});N(()=>{delete h().payload.data.item}),M(()=>{delete h().payload.data.item});const{data:x,pending:se,refresh:ae}=([u,v]=T(()=>V("item",()=>$fetch(`/api/v1/${o.params.productId}`),"$76xHkzP9vr")),u=await u,v(),u),{item:$,mainFilters:g,mainCategory:y}=x.value;t.value=$;const b=n=>{+l.value>0&&F().set(n,+l.value),l.value=1,p.value.style.opacity=1,setTimeout(()=>{p.value.style.opacity=0},2e3)};return(n,c)=>t.value&&Object.keys(t.value).length>0?(d(),r("div",H,[e("div",S,[e("div",U,[e("div",null,[e("img",{src:`/images/products/${t.value.images[0]}`||"/images/no_image.png"},null,8,j)])]),e("div",z,[e("h1",G,s(t.value[`name_${a(o).params.locale}`]),1),e("div",O,[e("ul",P,[e("li",R,[e("span",q,s(n.$t("items.code_vendor"))+": ",1),_(s(t.value.code_vendor),1)]),a(y)?(d(),r("li",J,[e("span",K,s(a(y)[`name_${a(o).params.locale}`])+": ",1),_(s(t.value.category[`name_${a(o).params.locale}`]),1)])):f("",!0),(d(!0),r(A,null,B(a(g),(i,k)=>(d(),r("li",{key:k,class:"mb-2"},[e("span",Q,s(i[`name_${a(o).params.locale}`])+": ",1),_(s(t.value.filters.find(w=>w.parent_id===i.id)[`name_${a(o).params.locale}`]),1)]))),128))])]),e("div",W,[e("span",null,[e("span",null,s(n.$t("items.price"))+": ",1),_(" "+s(t.value.price_retail/100)+" \u0433\u0440\u043D. ",1)])]),e("div",X,[e("div",null,[e("span",null,s(n.$t("count_items"))+": ",1),E(e("input",{class:"w-10 h-8 text-center outline-none mx-2 py-1 rounded text-xs",type:"tel",name:"count","onUpdate:modelValue":c[0]||(c[0]=i=>l.value=i)},null,512),[[I,l.value]])]),e("button",{class:"h-8 bg-cyan-700 text-sky-100 px-4 py-1 rounded",onClick:c[1]||(c[1]=L(i=>b(t.value.id),["prevent"]))},s(n.$t("to_cart")),1)])])]),e("div",{class:"w-full px-5 mt-8",innerHTML:t.value.fields[`description_${a(o).params.locale}`]},null,8,Y),e("div",{ref_key:"cartNotice",ref:p,class:"cart-notice"},ee,512)])):f("",!0)}});export{ne as default};
